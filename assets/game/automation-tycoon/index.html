<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Automation Tycoon — ChemObyazan</title>
<style>
  :root{ --red:#E31E24; --bg:#f7f7f7; --fg:#0b0b0b; --muted:#6b7280 }
  html,body{ margin:0; padding:0; background:var(--bg); color:var(--fg); font:16px/1.45 Inter,Segoe UI,Roboto,Arial,sans-serif }
  .wrap{ max-width:1000px; margin:0 auto; padding:24px }
  header{ display:flex; align-items:center; gap:16px; margin-bottom:20px }
  .dot{ width:12px; height:12px; border-radius:50%; background:var(--red) }
  h1{ font-size:24px; margin:0 }
  .row{ display:grid; grid-template-columns: 1.2fr 1fr; gap:16px }
  .card{ background:#fff; border-radius:16px; padding:16px; box-shadow:0 10px 30px rgba(0,0,0,.06) }
  .node{ padding:10px; border:2px solid #111; border-radius:12px; display:inline-block; margin:6px }
  .badge{ background:#111; color:#fff; padding:2px 8px; border-radius:999px; font-size:12px }
  .muted{ color:var(--muted); font-size:13px }
  input[type=range]{ width:100% }
  button{ border:0; border-radius:12px; padding:10px 14px; background:var(--red); color:#fff; font-weight:700; cursor:pointer }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="dot"></div>
      <h1>Automation Tycoon</h1>
    </header>

    <div class="row">
      <div class="card">
        <div class="muted">Конвейер</div>
        <div id="pipeline">
          <span class="node">ETL</span>
          <span class="node">LLM</span>
          <span class="node">Validation</span>
          <span class="node">Alerting</span>
        </div>
        <div class="muted">Параметры</div>
        <label>Параллелизм <span id="pVal" class="badge">3</span>
          <input id="p" type="range" min="1" max="10" value="3" />
        </label>
        <label>Кэширование <span id="cVal" class="badge">0.5</span>
          <input id="c" type="range" step="0.1" min="0" max="1" value="0.5" />
        </label>
        <label>Валидация (строгость) <span id="vVal" class="badge">0.6</span>
          <input id="v" type="range" step="0.1" min="0" max="1" value="0.6" />
        </label>
      </div>
      <div class="card">
        <div class="muted">События</div>
        <div>
          <label><input type="checkbox" id="drift"> Дрейф данных</label><br>
          <label><input type="checkbox" id="rate"> Rate limit</label><br>
          <label><input type="checkbox" id="model"> Обновление модели</label>
        </div>
        <hr>
        <div class="muted">Результаты</div>
        <div id="out"></div>
        <button id="run">Запустить</button>
      </div>
    </div>
  </div>

<script>
const $ = s => document.querySelector(s)
;['p','c','v'].forEach(id=> $("#"+id).addEventListener('input', e=>{
  $("#"+id+'Val').textContent = e.target.value
}))

function simulate(){
  const p = +$('#p').value
  const c = +$('#c').value
  const v = +$('#v').value
  const drift = $('#drift').checked
  const rate = $('#rate').checked
  const model = $('#model').checked

  // Время до ценности (ниже — лучше)
  let ttv = 120 / (p + 0.5) * (1 - c*0.4)
  if (rate) ttv *= 1.25

  // Качество/устойчивость (выше — лучше)
  let stability = 0.5 + v*0.4 + c*0.1
  if (drift) stability -= 0.25
  if (model) stability -= 0.1 // временное проседание после апдейта
  stability = Math.max(0, Math.min(1, stability))

  // Итоговый рейтинг
  const score = Math.round(( (1/(1+ttv/60)) * 0.5 + stability * 0.5 ) * 100)

  $('#out').innerHTML = `
    <div>Time‑to‑Value: ${ttv.toFixed(1)} ч</div>
    <div>Устойчивость: ${(stability*100).toFixed(0)}%</div>
    <div><b>Итоговый рейтинг: ${score}</b></div>
  `
}
$('#run').onclick = simulate
simulate()
</script>
</body>
</html>
